public class RailFence {
    static String encrypt(String text, int key) {
        String enc = "";
        for (int r = 0; r < key; r++)
            for (int i = r; i < text.length(); i += key)
                enc += text.charAt(i);
        return enc;
    }

    static String decrypt(String enc, int key) {
        char[] dec = new char[enc.length()];
        int idx = 0;
        for (int r = 0; r < key; r++)
            for (int i = r; i < enc.length(); i += key)
                dec[i] = enc.charAt(idx++);
        return new String(dec);
    }

    public static void main(String[] args) {
        String text = "HELLOWORLD";
        int key = 3;
        String enc = encrypt(text, key);
        String dec = decrypt(enc, key);
        System.out.println("Encrypted: " + enc);
        System.out.println("Decrypted: " + dec);
    }
}
